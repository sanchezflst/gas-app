{"ast":null,"code":"import adjust_lat from \"../common/adjust_lat\";\nimport adjust_lon from \"../common/adjust_lon\";\nimport hypot from \"../common/hypot\";\nimport pj_enfn from \"../common/pj_enfn\";\nimport pj_inv_mlfn from \"../common/pj_inv_mlfn\";\nimport pj_mlfn from \"../common/pj_mlfn\";\nimport { HALF_PI } from \"../constants/values\";\nvar EPS10 = 1e-10;\nexport function init() {\n  var c;\n  this.phi1 = this.lat1;\n  if (Math.abs(this.phi1) < EPS10) {\n    throw new Error();\n  }\n  if (this.es) {\n    this.en = pj_enfn(this.es);\n    this.m1 = pj_mlfn(this.phi1, this.am1 = Math.sin(this.phi1), c = Math.cos(this.phi1), this.en);\n    this.am1 = c / (Math.sqrt(1 - this.es * this.am1 * this.am1) * this.am1);\n    this.inverse = e_inv;\n    this.forward = e_fwd;\n  } else {\n    if (Math.abs(this.phi1) + EPS10 >= HALF_PI) {\n      this.cphi1 = 0;\n    } else {\n      this.cphi1 = 1 / Math.tan(this.phi1);\n    }\n    this.inverse = s_inv;\n    this.forward = s_fwd;\n  }\n}\nfunction e_fwd(p) {\n  var lam = adjust_lon(p.x - (this.long0 || 0));\n  var phi = p.y;\n  var rh, E, c;\n  rh = this.am1 + this.m1 - pj_mlfn(phi, E = Math.sin(phi), c = Math.cos(phi), this.en);\n  E = c * lam / (rh * Math.sqrt(1 - this.es * E * E));\n  p.x = rh * Math.sin(E);\n  p.y = this.am1 - rh * Math.cos(E);\n  p.x = this.a * p.x + (this.x0 || 0);\n  p.y = this.a * p.y + (this.y0 || 0);\n  return p;\n}\nfunction e_inv(p) {\n  p.x = (p.x - (this.x0 || 0)) / this.a;\n  p.y = (p.y - (this.y0 || 0)) / this.a;\n  var s, rh, lam, phi;\n  rh = hypot(p.x, p.y = this.am1 - p.y);\n  phi = pj_inv_mlfn(this.am1 + this.m1 - rh, this.es, this.en);\n  if ((s = Math.abs(phi)) < HALF_PI) {\n    s = Math.sin(phi);\n    lam = rh * Math.atan2(p.x, p.y) * Math.sqrt(1 - this.es * s * s) / Math.cos(phi);\n  } else if (Math.abs(s - HALF_PI) <= EPS10) {\n    lam = 0;\n  } else {\n    throw new Error();\n  }\n  p.x = adjust_lon(lam + (this.long0 || 0));\n  p.y = adjust_lat(phi);\n  return p;\n}\nfunction s_fwd(p) {\n  var lam = adjust_lon(p.x - (this.long0 || 0));\n  var phi = p.y;\n  var E, rh;\n  rh = this.cphi1 + this.phi1 - phi;\n  if (Math.abs(rh) > EPS10) {\n    p.x = rh * Math.sin(E = lam * Math.cos(phi) / rh);\n    p.y = this.cphi1 - rh * Math.cos(E);\n  } else {\n    p.x = p.y = 0;\n  }\n  p.x = this.a * p.x + (this.x0 || 0);\n  p.y = this.a * p.y + (this.y0 || 0);\n  return p;\n}\nfunction s_inv(p) {\n  p.x = (p.x - (this.x0 || 0)) / this.a;\n  p.y = (p.y - (this.y0 || 0)) / this.a;\n  var lam, phi;\n  var rh = hypot(p.x, p.y = this.cphi1 - p.y);\n  phi = this.cphi1 + this.phi1 - rh;\n  if (Math.abs(phi) > HALF_PI) {\n    throw new Error();\n  }\n  if (Math.abs(Math.abs(phi) - HALF_PI) <= EPS10) {\n    lam = 0;\n  } else {\n    lam = rh * Math.atan2(p.x, p.y) / Math.cos(phi);\n  }\n  p.x = adjust_lon(lam + (this.long0 || 0));\n  p.y = adjust_lat(phi);\n  return p;\n}\nexport var names = [\"bonne\", \"Bonne (Werner lat_1=90)\"];\nexport default {\n  init: init,\n  names: names\n};","map":{"version":3,"names":["adjust_lat","adjust_lon","hypot","pj_enfn","pj_inv_mlfn","pj_mlfn","HALF_PI","EPS10","init","c","phi1","lat1","Math","abs","Error","es","en","m1","am1","sin","cos","sqrt","inverse","e_inv","forward","e_fwd","cphi1","tan","s_inv","s_fwd","p","lam","x","long0","phi","y","rh","E","a","x0","y0","s","atan2","names"],"sources":["/home/chemy/final/node_modules/proj4/lib/projections/bonne.js"],"sourcesContent":["import adjust_lat from \"../common/adjust_lat\";\nimport adjust_lon from \"../common/adjust_lon\";\nimport hypot from \"../common/hypot\";\nimport pj_enfn from \"../common/pj_enfn\";\nimport pj_inv_mlfn from \"../common/pj_inv_mlfn\";\nimport pj_mlfn from \"../common/pj_mlfn\";\nimport { HALF_PI } from \"../constants/values\";\n\nvar EPS10 = 1e-10;\n\nexport function init() {\n  var c;\n\n  this.phi1 = this.lat1;\n  if (Math.abs(this.phi1) < EPS10) {\n    throw new Error();\n  }\n  if (this.es) {\n    this.en = pj_enfn(this.es);\n    this.m1 = pj_mlfn(this.phi1, this.am1 = Math.sin(this.phi1),\n      c = Math.cos(this.phi1), this.en);\n    this.am1 = c / (Math.sqrt(1 - this.es * this.am1 * this.am1) * this.am1);\n    this.inverse = e_inv;\n    this.forward = e_fwd;\n  } else {\n    if (Math.abs(this.phi1) + EPS10 >= HALF_PI) {\n      this.cphi1 = 0;\n    }\n    else {\n      this.cphi1 = 1 / Math.tan(this.phi1);\n    }\n    this.inverse = s_inv;\n    this.forward = s_fwd;\n  }\n}\n\nfunction e_fwd(p) {\n  var lam = adjust_lon(p.x - (this.long0 || 0));\n  var phi = p.y;\n  var rh, E, c;\n  rh = this.am1 + this.m1 - pj_mlfn(phi, E = Math.sin(phi), c = Math.cos(phi), this.en);\n  E = c * lam / (rh * Math.sqrt(1 - this.es * E * E));\n  p.x = rh * Math.sin(E);\n  p.y = this.am1 - rh * Math.cos(E);\n\n  p.x = this.a * p.x + (this.x0 || 0);\n  p.y = this.a * p.y + (this.y0 || 0);\n  return p;\n}\n\nfunction e_inv(p) {\n  p.x = (p.x - (this.x0 || 0)) / this.a;\n  p.y = (p.y - (this.y0 || 0)) / this.a;\n\n  var s, rh, lam, phi;\n  rh = hypot(p.x, p.y = this.am1 - p.y);\n  phi = pj_inv_mlfn(this.am1 + this.m1 - rh, this.es, this.en);\n  if ((s = Math.abs(phi)) < HALF_PI) {\n    s = Math.sin(phi);\n    lam = rh * Math.atan2(p.x, p.y) * Math.sqrt(1 - this.es * s * s) / Math.cos(phi);\n  } else if (Math.abs(s - HALF_PI) <= EPS10) {\n    lam = 0;\n  }\n  else {\n    throw new Error();\n  }\n  p.x = adjust_lon(lam + (this.long0 || 0));\n  p.y = adjust_lat(phi);\n  return p;\n}\n\nfunction s_fwd(p) {\n  var lam = adjust_lon(p.x - (this.long0 || 0));\n  var phi = p.y;\n  var E, rh;\n  rh = this.cphi1 + this.phi1 - phi;\n  if (Math.abs(rh) > EPS10) {\n    p.x = rh * Math.sin(E = lam * Math.cos(phi) / rh);\n    p.y = this.cphi1 - rh * Math.cos(E);\n  } else {\n    p.x = p.y = 0;\n  }\n\n  p.x = this.a * p.x + (this.x0 || 0);\n  p.y = this.a * p.y + (this.y0 || 0);\n  return p;\n}\n\nfunction s_inv(p) {\n  p.x = (p.x - (this.x0 || 0)) / this.a;\n  p.y = (p.y - (this.y0 || 0)) / this.a;\n\n  var lam, phi;\n  var rh = hypot(p.x, p.y = this.cphi1 - p.y);\n  phi = this.cphi1 + this.phi1 - rh;\n  if (Math.abs(phi) > HALF_PI) {\n    throw new Error();\n  }\n  if (Math.abs(Math.abs(phi) - HALF_PI) <= EPS10) {\n    lam = 0;\n  } else {\n    lam = rh * Math.atan2(p.x, p.y) / Math.cos(phi);\n  }\n  p.x = adjust_lon(lam + (this.long0 || 0));\n  p.y = adjust_lat(phi);\n  return p;\n}\n\nexport var names = [\"bonne\", \"Bonne (Werner lat_1=90)\"];\nexport default {\n  init: init,\n  names: names\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}